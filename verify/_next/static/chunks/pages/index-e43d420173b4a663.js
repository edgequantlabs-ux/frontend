(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,i,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(6616)}])},6616:function(e,i,s){"use strict";s.r(i),s.d(i,{default:function(){return h}});var n=s(5893),t=s(7294);let d="https://edgequant-backend-final.eba-ddmvghnd.ap-south-1.elasticbeanstalk.com";function l(){return(0,n.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:12,background:"#0f1724",color:"white"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},children:[(0,n.jsx)("img",{src:"./logo.png",alt:"EdgeQuant",style:{height:32}}),(0,n.jsx)("h1",{style:{fontSize:18,fontWeight:600},children:"EdgeQuant — Decision Dashboard"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,n.jsx)("button",{style:{padding:"6px 10px",background:"#111827",color:"white",borderRadius:6},children:"Account"}),(0,n.jsx)("button",{style:{padding:"6px 10px",background:"#111827",color:"white",borderRadius:6},children:"Settings"})]})]})}function r(e){let{instruments:i,onSelect:s}=e;return(0,n.jsxs)("div",{style:{padding:12},children:[(0,n.jsx)("label",{style:{display:"block",fontSize:12,marginBottom:6},children:"Instrument"}),(0,n.jsx)("select",{style:{width:"100%",padding:8,borderRadius:6},onChange:e=>s(e.target.value),children:i.map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.symbol," \xb7 ",e.exchange]},e.id))})]})}function o(e){let{title:i,value:s}=e;return(0,n.jsxs)("div",{style:{background:"rgba(255,255,255,0.03)",padding:12,borderRadius:8},children:[(0,n.jsx)("div",{style:{fontSize:12,opacity:.7},children:i}),(0,n.jsx)("div",{style:{fontSize:18,fontWeight:600},children:s})]})}function a(e){let{open:i,onClose:s,suggestions:t}=e;return i?(0,n.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},children:(0,n.jsxs)("div",{style:{background:"white",color:"#111827",borderRadius:10,width:"92%",maxWidth:900,padding:20},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,n.jsx)("h2",{style:{fontSize:16,fontWeight:600},children:"ZeroHero — High Reward Picks"}),(0,n.jsx)("button",{onClick:s,style:{padding:"6px 10px",borderRadius:6},children:"Close"})]}),(0,n.jsxs)("div",{style:{display:"grid",gap:10},children:[0===t.length&&(0,n.jsx)("div",{style:{color:"#6b7280"},children:"No suggestions"}),t.map(e=>(0,n.jsxs)("div",{style:{padding:12,border:"1px solid #e5e7eb",borderRadius:8,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{fontWeight:600},children:[e.symbol," \xb7 ",e.reason]}),(0,n.jsxs)("div",{style:{fontSize:12,color:"#6b7280"},children:["Expiry: ",e.expiry," \xb7 Prob: ",Math.round(100*(e.prob||0)),"%"]})]}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[(0,n.jsxs)("div",{style:{fontSize:13},children:["Entry: ",e.entry]}),(0,n.jsxs)("div",{style:{fontSize:13},children:["SL: ",e.sl]}),(0,n.jsxs)("div",{style:{fontSize:13},children:["TP: ",e.tp]}),(0,n.jsx)("button",{style:{marginTop:8,padding:"6px 10px",borderRadius:6,border:"1px solid #111827"},children:"Take 1 Lot"})]})]},e.id))]})]})}):null}function c(e){var i,s,t;let{trade:d}=e;return(0,n.jsxs)("div",{style:{padding:12,borderRadius:8,background:"rgba(255,255,255,0.03)"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:600},children:d.symbol}),(0,n.jsx)("div",{style:{fontSize:12,color:"#9ca3af"},children:d.note})]}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[(0,n.jsxs)("div",{children:["Entry ",d.entry]}),(0,n.jsxs)("div",{children:["SL ",d.sl]}),(0,n.jsxs)("div",{children:["TP ",d.tp]})]})]}),(0,n.jsxs)("div",{style:{marginTop:8,display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:8},children:[(0,n.jsxs)("div",{style:{fontSize:12},children:["Delta: ",null!==(i=d.delta)&&void 0!==i?i:"-"]}),(0,n.jsxs)("div",{style:{fontSize:12},children:["OI Change: ",null!==(s=d.oi_change)&&void 0!==s?s:"-"]}),(0,n.jsxs)("div",{style:{fontSize:12},children:["PCR: ",null!==(t=d.pcr)&&void 0!==t?t:"-"]})]})]})}function h(){var e,i,s,h,g,u,p,x,y,f;let[j,v]=(0,t.useState)([]),[b,m]=(0,t.useState)(null),[S,k]=(0,t.useState)({}),[w,z]=(0,t.useState)([]),[R,C]=(0,t.useState)(!1),[T,_]=(0,t.useState)([]);return(0,t.useEffect)(()=>{fetch(d+"/api/instruments").then(e=>e.json()).then(e=>{v(e||[]),e&&e[0]&&m(e[0].id)}).catch(e=>{console.error("instruments",e),v([])})},[]),(0,t.useEffect)(()=>{b&&fetch("".concat(d,"/api/snapshot?instrument_id=").concat(b)).then(e=>e.json()).then(e=>k(e||{})).catch(e=>console.error("snapshot",e))},[b]),!function(e){let i=(0,t.useRef)(null);(0,t.useEffect)(()=>{try{let s=new WebSocket("wss://edgequant-backend-final.eba-ddmvghnd.ap-south-1.elasticbeanstalk.com/ws");return s.onopen=()=>console.log("ws open"),s.onmessage=i=>{try{e(JSON.parse(i.data))}catch(e){console.error("ws parse",e)}},s.onclose=()=>console.log("ws closed"),s.onerror=e=>console.error("ws err",e),i.current=s,()=>s.close()}catch(e){console.error("ws init error",e)}},[e])}(function(e){e&&("tick"===e.type&&k(i=>({...i,last_price:e.price})),"decision"===e.type&&z(i=>[e.decision,...i].slice(0,10)),"zerohero"===e.type&&_(e.suggestions||[]))}),(0,n.jsxs)("div",{style:{minHeight:"100vh",background:"#0f1724",color:"white"},children:[(0,n.jsx)(l,{}),(0,n.jsxs)("main",{style:{padding:16,display:"grid",gridTemplateColumns:"300px 1fr",gap:16},children:[(0,n.jsxs)("aside",{style:{background:"#07132a",borderRadius:8,padding:12},children:[(0,n.jsx)(r,{instruments:j,onSelect:m}),(0,n.jsx)("div",{style:{marginTop:12},children:(0,n.jsx)("button",{onClick:()=>C(!0),style:{width:"100%",padding:10,background:"#16a34a",borderRadius:8},children:"Open ZeroHero"})}),(0,n.jsxs)("div",{style:{marginTop:12,display:"grid",gap:8},children:[(0,n.jsx)(o,{title:"Last",value:null!==(i=S.last_price)&&void 0!==i?i:"-"}),(0,n.jsx)(o,{title:"OI",value:null!==(s=S.oi)&&void 0!==s?s:"-"}),(0,n.jsx)(o,{title:"PCR",value:null!==(h=S.pcr)&&void 0!==h?h:"-"})]})]}),(0,n.jsxs)("section",{style:{display:"grid",gridTemplateRows:"auto 1fr",gap:12},children:[(0,n.jsxs)("div",{style:{background:"#07132a",borderRadius:8,padding:12},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontSize:12,color:"#9ca3af"},children:"Selected"}),(0,n.jsx)("div",{style:{fontSize:20,fontWeight:700},children:null!==(g=null===(e=j.find(e=>e.id===b))||void 0===e?void 0:e.symbol)&&void 0!==g?g:"-"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:12,color:"#9ca3af"},children:[(0,n.jsxs)("div",{style:{fontSize:13},children:["Vol: ",null!==(u=S.volume)&&void 0!==u?u:"-"]}),(0,n.jsxs)("div",{style:{fontSize:13},children:["VWAP: ",null!==(p=S.vwap)&&void 0!==p?p:"-"]})]})]}),(0,n.jsx)("div",{style:{marginTop:12,height:200,background:"rgba(0,0,0,0.3)",borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af"},children:"Chart placeholder"})]}),(0,n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:12},children:[(0,n.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,n.jsxs)("div",{style:{background:"#07132a",borderRadius:8,padding:12},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,n.jsx)("div",{style:{fontWeight:700},children:"Trade Suggestions"}),(0,n.jsx)("div",{style:{fontSize:12,color:"#9ca3af"},children:"Recent"})]}),(0,n.jsxs)("div",{style:{display:"grid",gap:8},children:[0===w.length&&(0,n.jsx)("div",{style:{color:"#6b7280"},children:"No trades"}),w.map(e=>(0,n.jsx)(c,{trade:e},e.id||e.client_id))]})]}),(0,n.jsxs)("div",{style:{background:"#07132a",borderRadius:8,padding:12},children:[(0,n.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Order Book / Depth"}),(0,n.jsx)("div",{style:{fontSize:13,color:"#9ca3af"},children:"Top bids/asks placeholder"})]})]}),(0,n.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,n.jsxs)("div",{style:{background:"#07132a",borderRadius:8,padding:12},children:[(0,n.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Greeks & Options"}),(0,n.jsxs)("div",{style:{fontSize:13,color:"#9ca3af"},children:["Delta: ",null!==(x=S.delta)&&void 0!==x?x:"-"," \xb7 Gamma: ",null!==(y=S.gamma)&&void 0!==y?y:"-"]}),(0,n.jsxs)("div",{style:{marginTop:8,fontSize:13},children:["OI Change: ",null!==(f=S.oi_change)&&void 0!==f?f:"-"]})]}),(0,n.jsxs)("div",{style:{background:"#07132a",borderRadius:8,padding:12},children:[(0,n.jsx)("div",{style:{fontWeight:700,marginBottom:8},children:"Execution"}),(0,n.jsx)("div",{style:{fontSize:13,color:"#9ca3af"},children:"One-lot recommended. SL included for all suggestions."}),(0,n.jsx)("div",{style:{marginTop:8},children:(0,n.jsx)("button",{style:{width:"100%",padding:10,borderRadius:8,background:"#4f46e5"},children:"Open Order Panel"})})]})]})]})]})]}),(0,n.jsx)(a,{open:R,onClose:()=>C(!1),suggestions:T})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);